{% from "macros.html" import nav_link with context %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% block tab_title %}
    	<title>GreediMonki :: {{title}} </title>
    {% endblock %}

    <!-- Bootstrap -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- TODO: reactivate with gmonki settings -->
	<!-- <style>.col-centered { float: none; margin: 0 auto; }</style> -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.js"></script>
    <![endif]-->
  </head>
  <body>
	{% block nav %}
		<nav class="navbar navbar-inverse" role="navigation">
		<div class="container-fluid">
		  <div class="navbar-header">
		    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		      <span class="sr-only">Toggle navigation</span>
		      <span class="icon-bar"></span>
		      <span class="icon-bar"></span>
		      <span class="icon-bar"></span>
		    </button>
		    <a class="navbar-brand" href="/">GreediMonki!</a>
		  </div>
		
		  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		    <ul class="nav navbar-nav">
		            {{ nav_link('index', 'Home')}}
		            {{ nav_link('about_page', 'About')}}
		            {{ nav_link('profile_page', 'Profile')}}
		    </ul>
		    <ul class="nav navbar-nav navbar-right">
				{% if current_user.username == null %}
					{{ nav_link('user.login', 'Sign In') }}
				{% else %}
					{{ nav_link('user.logout', 'Sign Out') }}

				{% endif %}
		      <li class="dropdown">
		        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
		        <ul class="dropdown-menu">
		          <li><a href="#">Action</a></li>
		          <li><a href="#">Another action</a></li>
		          <li><a href="#">Something else here</a></li>
		          <li class="divider"></li>
		          <li><a href="#">Separated link</a></li>
		        </ul>
		      </li>
		    </ul>
		  </div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
		</nav>
	{% endblock %}
  {% block body %}
    <div class="container">
      <div class="row">
        <div class="col-sm-8 col-md-7 col-lg-6 col-centered">
            {% block flash_messages %}
                {%- with messages = get_flashed_messages(with_categories=true) -%}
                    {% if messages %}
                        {% for category, message in messages %}
                            {% if category=='error' %}
                                {% set category='danger' %}
                            {% endif %}
                            <div class="alert alert-{{category}}">{{ message }}</div>
                        {% endfor %}
                    {% endif %}
                {%- endwith %}
            {% endblock %}
            {% block content %}
            {% endblock %}
        </div>
      </div>
    </div>
    {% endblock %}
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  </body>
</html>
